

data send to next page:
<form action="/new1" method="post">
<input type="text" name="name" required>

<td th:text="${name}"></td>


	@PostMapping("/new1")
	public String hy1(@RequestParam String name,@RequestParam String email,Model model ) {
 

    // send data to next page
    model.addAttribute("name", name);
    model.addAttribute("email", email);

    return "new";
		
	}


	Database connection:
	Controller.java
	@Autowired
	private New_repo newrepo;
	
	@GetMapping("/")	
	public String hy() {
		return "index";
	}
	
	@PostMapping("/new1")
	public String hy1(@RequestParam String name,@RequestParam String email,Model model ) {
		
	new_model newmodel=new new_model();
	
	newmodel.setName(name);
	newmodel.setEmail(email);
	newrepo.save(newmodel);
	
 
	List<new_model> users=newrepo.findAll();
    // send data to next page
    model.addAttribute("users", users);
    

    return "new";
		
	}


User.java(model):

@Entity
@Table(name = "puthusu")
public class new_model {

	@Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private String name;
    private String email;
		
REPO.java:
public interface New_repo extends JpaRepository<new_model,Long> {

}	

new.html:
    <tr th:each="u : ${users}">
        <td th:text="${u.id}"></td>
        <td th:text="${u.name}"></td>
        <td th:text="${u.email}"></td>
    </tr>

========================================================================================================
EDIT DATA:
new.html
	       <td th:text="${u.email}"></td>
                <td>
            <a th:href="@{/edit/{id}(id=${u.id})}">
                <button>Edit</button>
            </a>
edit.html
<form action="/update" method="post">

    <input type="hidden" name="id" th:value="${user.id}">

    Name:
    <input type="text" name="name" th:value="${user.name}">
    <br><br>

    Email:
    <input type="text" name="email" th:value="${user.email}">
    <br><br>

    <button type="submit">Update</button>

</form>	

controller.java

// ðŸ‘‰ OPEN EDIT PAGE
    @GetMapping("/edit/{id}")
    public String editUser(@PathVariable Long id, Model model) {

        new_model user = newrepo.findById(id).get();
        model.addAttribute("user", user);

        return "edit";
    }
    
    @PostMapping("/update")
    public String updatedata(@RequestParam Long id,@RequestParam String name,@RequestParam String email,Model model) {
    	
    	new_model user=newrepo.findById(id).get();
    	user.setName(name);
    	user.setEmail(email);
    	newrepo.save(user);
    	
    	model.addAttribute("users", newrepo.findAll());
    	return "new";
    }
=====================================================================================================
DELETE DATA:
        <td>
            <a th:href="@{/delete/{id}(id=${user.id})}"
               onclick="return confirm('Are you sure?')">
               Delete
            </a>
        </td>
controller.java
	// ðŸ‘‰ DELETE USER
@GetMapping("/delete/{id}")
public String deleteUser(@PathVariable Long id, Model model) {

    newrepo.deleteById(id);   // delete from DB

    model.addAttribute("users", newrepo.findAll()); // reload table
    return "new";
}

